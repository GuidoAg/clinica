import{a as ae,b as re,c as le,f as se,i as me,j as ue,k as de}from"./chunk-LGH6NK7E.js";import{d as ie,f as te,g as oe,n as ne}from"./chunk-ZTAJVVXQ.js";import{a as ee}from"./chunk-QYWCDNK3.js";import{b as Z}from"./chunk-ZSNERKQC.js";import"./chunk-QU5QNJKE.js";import"./chunk-X5YLR3NI.js";import"./chunk-Q4YNZBQ2.js";import{b as O}from"./chunk-K32GGTJZ.js";import{f as j,g as q}from"./chunk-DHRKF7SU.js";import"./chunk-HICRNNMR.js";import{c as Q,e as b,g as $,h as H,k as J,n as K,o as W,v as X,x as Y}from"./chunk-T6NMK5EM.js";import{e as D,k as G}from"./chunk-M3XRSK3P.js";import{Db as w,Fb as v,Jb as A,Kb as T,Lb as U,Ma as M,Oa as r,Qb as P,Rb as N,Tb as m,Ub as R,Vb as z,Z as p,Za as S,_b as B,ca as f,cc as C,da as _,nb as c,ob as g,pb as I,qb as V,rb as k,sb as d,tb as a,ub as l,vb as h,zb as y}from"./chunk-7RTQA4J5.js";import{i as E}from"./chunk-ODN5LVDJ.js";var ge=["emailInput"],pe=(t,o)=>({"mat-form-field-valid":t,"mat-form-field-invalid":o});function fe(t,o){if(t&1){let n=y();a(0,"button",14),w("click",function(){let i=f(n).$implicit,u=v(2);return _(u.autocompletar(i))}),h(1,"img",15),a(2,"span",16),m(3),l()()}if(t&2){let n=o.$implicit,e=o.$index,i=v(2);P("animation-delay",e*100+"ms"),N("animate-fade-slide-up-scale",i.autoLogVisible),r(),d("alt",B(n.nombre))("src",n.imagenUrl,M),r(2),z(" ",n.nombre," ")}}function _e(t,o){if(t&1&&(a(0,"div",3),V(1,fe,4,8,"button",13,I),l()),t&2){let n=v();r(),k(n.usuariosAutoLog)}}function we(t,o){t&1&&(a(0,"mat-error"),m(1," Campo obligatorio "),l())}function be(t,o){t&1&&(a(0,"mat-error"),m(1," Email inv\xE1lido "),l())}function he(t,o){t&1&&(a(0,"mat-error"),m(1," Campo obligatorio "),l())}function ve(t,o){t&1&&(a(0,"mat-error"),m(1," M\xEDnimo 7 caracteres "),l())}var ce=class t{fb=p(X);snackBar=p(ne);router=p(O);auth=p(Z);overlay=p(ee);loginForm;hidePassword=!0;autoLogVisible=!1;usuariosAutoLog=[{nombre:"Admin",imagenUrl:"assets/imagenes/Login/admin.webp",mail:"admin.embezzle816@passmail.net",password:"1234567"},{nombre:"Agustin",imagenUrl:"assets/imagenes/Login/especialista2.webp",mail:"banova2860@okcdeals.com",password:"1234567"},{nombre:"Ana",imagenUrl:"assets/imagenes/Login/especialista1.webp",mail:"hogowa4011@okcdeals.com",password:"1234567"},{nombre:"Guido",imagenUrl:"assets/imagenes/Login/paciente1.webp",mail:"resoc47612@okcdeals.com",password:"1234567"},{nombre:"Maria",imagenUrl:"assets/imagenes/Login/paciente3.webp",mail:"wavate3116@moondyal.com",password:"1234567"},{nombre:"Roberto",imagenUrl:"assets/imagenes/Login/paciente2.webp",mail:"wihob84360@moondyal.com",password:"1234567"}];emailInputRef;ngOnInit(){this.overlay.show(),this.loginForm=this.fb.group({mail:["",[b.required,b.email]],password:["",[b.required,b.minLength(7)]]}),this.overlay.hide()}ngAfterViewInit(){queueMicrotask(()=>this.emailInputRef?.nativeElement.focus())}login(){return E(this,null,function*(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}this.overlay.show();let{mail:o,password:n}=this.loginForm.value,e=yield this.auth.login(o,n);if(!e.success){this.snackBar.open(e.errorCode??"Error de login","Cerrar",{duration:4e3,panelClass:["bg-red-600","text-white"]}),this.overlay.hide();return}let i=yield this.auth.getCurrentUser();i&&(yield this.auth.registrarIngreso(i.id)),this.router.navigate(["/home"])})}toggleAutoLog(){this.autoLogVisible=!this.autoLogVisible}autocompletar(o){this.loginForm.patchValue({mail:o.mail,password:o.password})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=S({type:t,selectors:[["app-login"]],viewQuery:function(n,e){if(n&1&&A(ge,5),n&2){let i;T(i=U())&&(e.emailInputRef=i.first)}},decls:27,vars:17,consts:[["emailInput",""],[1,"bg-gray-200","pt-30","pb-130"],[1,"pb-1","text-center","text-4xl","font-bold","text-azul-oscuro"],[1,"absolute","ml-5","flex","w-32","flex-col","items-start","gap-4"],[1,"flex","justify-center","py-8"],[1,"flex","w-full","max-w-xl","flex-col","items-center","rounded-xl","bg-crema","p-8","shadow-lg",3,"ngSubmit","formGroup"],["appearance","fill",1,"w-80",3,"ngClass"],["matInput","","type","email","formControlName","mail"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"flex","justify-center","gap-4","pt-4"],["mat-raised-button","","color","primary","type","submit",1,"rounded-full","bg-verde-oscuro","px-8","py-2","text-white","shadow-lg",3,"disabled"],["mat-raised-button","","color","primary","type","button",1,"rounded-full","bg-verde-oscuro","px-8","py-2","text-white","shadow-lg",3,"click"],[1,"flex","h-23","w-23","flex-col","items-center","justify-center","rounded-lg","bg-crema","align-middle","text-azul-oscuro","shadow-md","transition-transform","hover:scale-110",2,"opacity","0",3,"animationDelay","animate-fade-slide-up-scale"],[1,"flex","h-23","w-23","flex-col","items-center","justify-center","rounded-lg","bg-crema","align-middle","text-azul-oscuro","shadow-md","transition-transform","hover:scale-110",2,"opacity","0",3,"click"],[1,"mb-1","justify-center","align-middle",3,"src","alt"],[1,"text-xs","font-bold","capitalize"]],template:function(n,e){if(n&1){let i=y();a(0,"div",1)(1,"h2",2),m(2,"Login"),l(),c(3,_e,3,0,"div",3),a(4,"div",4)(5,"form",5),w("ngSubmit",function(){return f(i),_(e.login())}),a(6,"mat-form-field",6)(7,"mat-label"),m(8,"Email"),l(),h(9,"input",7,0),c(11,we,2,0,"mat-error"),c(12,be,2,0,"mat-error"),l(),a(13,"mat-form-field",6)(14,"mat-label"),m(15,"Contrase\xF1a"),l(),h(16,"input",8),a(17,"button",9),w("click",function(){return f(i),_(e.hidePassword=!e.hidePassword)}),a(18,"mat-icon"),m(19),l()(),c(20,he,2,0,"mat-error"),c(21,ve,2,0,"mat-error"),l(),a(22,"div",10)(23,"button",11),m(24," Login "),l(),a(25,"button",12),w("click",function(){return f(i),_(e.toggleAutoLog())}),m(26," Auto Log "),l()()()()()}if(n&2){let i,u,F,s,x,L;r(3),g(e.autoLogVisible?3:-1),r(2),d("formGroup",e.loginForm),r(),d("ngClass",C(11,pe,((i=e.loginForm.get("mail"))==null?null:i.valid)&&(((i=e.loginForm.get("mail"))==null?null:i.dirty)||((i=e.loginForm.get("mail"))==null?null:i.touched)),((i=e.loginForm.get("mail"))==null?null:i.invalid)&&(((i=e.loginForm.get("mail"))==null?null:i.dirty)||((i=e.loginForm.get("mail"))==null?null:i.touched)))),r(5),g((u=e.loginForm.get("mail"))!=null&&u.hasError("required")?11:-1),r(),g((F=e.loginForm.get("mail"))!=null&&F.hasError("email")?12:-1),r(),d("ngClass",C(14,pe,((s=e.loginForm.get("password"))==null?null:s.valid)&&(((s=e.loginForm.get("password"))==null?null:s.dirty)||((s=e.loginForm.get("password"))==null?null:s.touched)),((s=e.loginForm.get("password"))==null?null:s.invalid)&&(((s=e.loginForm.get("password"))==null?null:s.dirty)||((s=e.loginForm.get("password"))==null?null:s.touched)))),r(3),d("type",e.hidePassword?"password":"text"),r(3),R(e.hidePassword?"visibility_off":"visibility"),r(),g((x=e.loginForm.get("password"))!=null&&x.hasError("required")?20:-1),r(),g((L=e.loginForm.get("password"))!=null&&L.hasError("minlength")?21:-1),r(2),d("disabled",e.loginForm.invalid)}},dependencies:[G,D,Y,J,Q,$,H,K,W,de,ue,se,ae,re,le,me,oe,te,ie,q,j],styles:["@keyframes _ngcontent-%COMP%_fade-slide-up-scale{0%{opacity:0;transform:translate(-30px,20px) scale(.9)}60%{opacity:1;transform:translate(10px,-4px) scale(1.05)}to{opacity:1;transform:translate(0) scale(1)}}.animate-fade-slide-up-scale[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-slide-up-scale .5s cubic-bezier(.22,1,.36,1) forwards}"]})};export{ce as Login};
