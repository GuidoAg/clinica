import{a as me,b as pe,c as de,f as ue,i as ce,j as ge,k as fe}from"./chunk-3UR3VXRF.js";import{d as ae,f as re,g as le,n as se}from"./chunk-M2F6BYP4.js";import{b as oe}from"./chunk-VPTHVLTQ.js";import{k as ne}from"./chunk-YDT6XDAL.js";import"./chunk-LMZWYZYD.js";import"./chunk-UIGXKFJS.js";import{c as K,e as y,g as W,h as X,k as Y,o as Z,p as ee,w as ie,y as te}from"./chunk-3XECLLOM.js";import{b as D}from"./chunk-FGBWPZOQ.js";import{f as H,g as J}from"./chunk-MYA2PN56.js";import{b as Q,c as $}from"./chunk-JYNQ7DY3.js";import"./chunk-FFHKXHWV.js";import{e as j,j as q}from"./chunk-DDKTLT4U.js";import{$b as G,Ab as L,Eb as h,Gb as C,Kb as U,Lb as N,Ma as P,Mb as O,Oa as t,Rb as R,Sb as z,Ub as m,Vb as F,Wb as u,Z as f,Za as k,ca as v,da as b,ec as I,gc as p,hc as d,nb as _,ob as w,qb as A,rb as B,sb as T,tb as g,ub as r,vb as l,wb as x}from"./chunk-PTIYVII4.js";import{j as V}from"./chunk-K4ALXBGI.js";var ve=["emailInput"],_e=(o,n)=>({"mat-form-field-valid":o,"mat-form-field-invalid":n});function be(o,n){if(o&1){let a=L();r(0,"button",14),h("click",function(){let i=v(a).$implicit,c=C(2);return b(c.autocompletar(i))}),x(1,"img",15),r(2,"span",16),m(3),l()()}if(o&2){let a=n.$implicit,e=n.$index,i=C(2);R("animation-delay",e*100+"ms"),z("animate-fade-slide-up-scale",i.autoLogVisible),t(),g("alt",G(a.nombre))("src",a.imagenUrl,P),t(2),u(" ",a.nombre," ")}}function he(o,n){if(o&1&&(r(0,"div",3),B(1,be,4,8,"button",13,A),l()),o&2){let a=C();t(),T(a.usuariosAutoLog)}}function ye(o,n){o&1&&(r(0,"mat-error"),m(1),p(2,"transloco"),l()),o&2&&(t(),u(" ",d(2,1,"loginPage.errores.campoObligatorio")," "))}function xe(o,n){o&1&&(r(0,"mat-error"),m(1),p(2,"transloco"),l()),o&2&&(t(),u(" ",d(2,1,"loginPage.errores.emailInvalido")," "))}function Ce(o,n){o&1&&(r(0,"mat-error"),m(1),p(2,"transloco"),l()),o&2&&(t(),u(" ",d(2,1,"loginPage.errores.campoObligatorio")," "))}function Fe(o,n){o&1&&(r(0,"mat-error"),m(1),p(2,"transloco"),l()),o&2&&(t(),u(" ",d(2,1,"loginPage.errores.minimo7Caracteres")," "))}var we=class o{fb=f(ie);snackBar=f(se);router=f(D);auth=f(oe);overlay=f(ne);loginForm;hidePassword=!0;autoLogVisible=!1;usuariosAutoLog=[{nombre:"Admin",imagenUrl:"assets/imagenes/Login/admin.webp",mail:"admin.embezzle816@passmail.net",password:"1234567"},{nombre:"Agustin",imagenUrl:"assets/imagenes/Login/especialista2.webp",mail:"banova2860@okcdeals.com",password:"1234567"},{nombre:"Ana",imagenUrl:"assets/imagenes/Login/especialista1.webp",mail:"hogowa4011@okcdeals.com",password:"1234567"},{nombre:"Guido",imagenUrl:"assets/imagenes/Login/paciente1.webp",mail:"resoc47612@okcdeals.com",password:"1234567"},{nombre:"Maria",imagenUrl:"assets/imagenes/Login/paciente3.webp",mail:"wavate3116@moondyal.com",password:"1234567"},{nombre:"Roberto",imagenUrl:"assets/imagenes/Login/paciente2.webp",mail:"wihob84360@moondyal.com",password:"1234567"}];emailInputRef;ngOnInit(){this.overlay.show(),this.loginForm=this.fb.group({mail:["",[y.required,y.email]],password:["",[y.required,y.minLength(7)]]}),this.overlay.hide()}ngAfterViewInit(){queueMicrotask(()=>this.emailInputRef?.nativeElement.focus())}login(){return V(this,null,function*(){if(this.loginForm.invalid){this.loginForm.markAllAsTouched();return}this.overlay.show();let{mail:n,password:a}=this.loginForm.value,e=yield this.auth.login(n,a);if(!e.success){this.snackBar.open(e.errorCode??"Error de login","Cerrar",{duration:4e3,panelClass:["bg-red-600","text-white"]}),this.overlay.hide();return}let i=yield this.auth.getCurrentUser();i&&(yield this.auth.registrarIngreso(i.id)),this.router.navigate(["/home"])})}toggleAutoLog(){this.autoLogVisible=!this.autoLogVisible}autocompletar(n){this.loginForm.patchValue({mail:n.mail,password:n.password})}static \u0275fac=function(a){return new(a||o)};static \u0275cmp=k({type:o,selectors:[["app-login"]],viewQuery:function(a,e){if(a&1&&U(ve,5),a&2){let i;N(i=O())&&(e.emailInputRef=i.first)}},decls:32,vars:32,consts:[["emailInput",""],[1,"bg-gray-200","pt-30","pb-130"],[1,"pb-1","text-center","text-4xl","font-bold","text-azul-oscuro"],[1,"absolute","ml-5","flex","w-32","flex-col","items-start","gap-4"],[1,"flex","justify-center","py-8"],[1,"flex","w-full","max-w-xl","flex-col","items-center","rounded-xl","bg-crema","p-8","shadow-lg",3,"ngSubmit","formGroup"],["appearance","fill",1,"w-80",3,"ngClass"],["matInput","","type","email","formControlName","mail"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"flex","justify-center","gap-4","pt-4"],["mat-raised-button","","color","primary","type","submit",1,"rounded-full","bg-verde-oscuro","px-8","py-2","text-white","shadow-lg",3,"disabled"],["mat-raised-button","","color","primary","type","button",1,"rounded-full","bg-verde-oscuro","px-8","py-2","text-white","shadow-lg",3,"click"],[1,"flex","h-23","w-23","flex-col","items-center","justify-center","rounded-lg","bg-crema","align-middle","text-azul-oscuro","shadow-md","transition-transform","hover:scale-110",2,"opacity","0",3,"animationDelay","animate-fade-slide-up-scale"],[1,"flex","h-23","w-23","flex-col","items-center","justify-center","rounded-lg","bg-crema","align-middle","text-azul-oscuro","shadow-md","transition-transform","hover:scale-110",2,"opacity","0",3,"click"],[1,"mb-1","justify-center","align-middle",3,"src","alt"],[1,"text-xs","font-bold","capitalize"]],template:function(a,e){if(a&1){let i=L();r(0,"div",1)(1,"h2",2),m(2),p(3,"transloco"),l(),_(4,he,3,0,"div",3),r(5,"div",4)(6,"form",5),h("ngSubmit",function(){return v(i),b(e.login())}),r(7,"mat-form-field",6)(8,"mat-label"),m(9),p(10,"transloco"),l(),x(11,"input",7,0),_(13,ye,3,3,"mat-error"),_(14,xe,3,3,"mat-error"),l(),r(15,"mat-form-field",6)(16,"mat-label"),m(17),p(18,"transloco"),l(),x(19,"input",8),r(20,"button",9),h("click",function(){return v(i),b(e.hidePassword=!e.hidePassword)}),r(21,"mat-icon"),m(22),l()(),_(23,Ce,3,3,"mat-error"),_(24,Fe,3,3,"mat-error"),l(),r(25,"div",10)(26,"button",11),m(27),p(28,"transloco"),l(),r(29,"button",12),h("click",function(){return v(i),b(e.toggleAutoLog())}),m(30),p(31,"transloco"),l()()()()()}if(a&2){let i,c,M,s,S,E;t(2),u(" ",d(3,16,"loginPage.titulo")," "),t(2),w(e.autoLogVisible?4:-1),t(2),g("formGroup",e.loginForm),t(),g("ngClass",I(26,_e,((i=e.loginForm.get("mail"))==null?null:i.valid)&&(((i=e.loginForm.get("mail"))==null?null:i.dirty)||((i=e.loginForm.get("mail"))==null?null:i.touched)),((i=e.loginForm.get("mail"))==null?null:i.invalid)&&(((i=e.loginForm.get("mail"))==null?null:i.dirty)||((i=e.loginForm.get("mail"))==null?null:i.touched)))),t(2),F(d(10,18,"loginPage.email")),t(4),w((c=e.loginForm.get("mail"))!=null&&c.hasError("required")?13:-1),t(),w((M=e.loginForm.get("mail"))!=null&&M.hasError("email")?14:-1),t(),g("ngClass",I(29,_e,((s=e.loginForm.get("password"))==null?null:s.valid)&&(((s=e.loginForm.get("password"))==null?null:s.dirty)||((s=e.loginForm.get("password"))==null?null:s.touched)),((s=e.loginForm.get("password"))==null?null:s.invalid)&&(((s=e.loginForm.get("password"))==null?null:s.dirty)||((s=e.loginForm.get("password"))==null?null:s.touched)))),t(2),F(d(18,20,"loginPage.contrasena")),t(2),g("type",e.hidePassword?"password":"text"),t(3),F(e.hidePassword?"visibility_off":"visibility"),t(),w((S=e.loginForm.get("password"))!=null&&S.hasError("required")?23:-1),t(),w((E=e.loginForm.get("password"))!=null&&E.hasError("minlength")?24:-1),t(2),g("disabled",e.loginForm.invalid),t(),u(" ",d(28,22,"loginPage.login")," "),t(3),u(" ",d(31,24,"loginPage.autoLog")," ")}},dependencies:[q,j,te,Y,K,W,X,Z,ee,fe,ge,ue,me,pe,de,ce,le,re,ae,J,H,$,Q],styles:["@keyframes _ngcontent-%COMP%_fade-slide-up-scale{0%{opacity:0;transform:translate(-30px,20px) scale(.9)}60%{opacity:1;transform:translate(10px,-4px) scale(1.05)}to{opacity:1;transform:translate(0) scale(1)}}.animate-fade-slide-up-scale[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-slide-up-scale .5s cubic-bezier(.22,1,.36,1) forwards}"]})};export{we as Login};
