import{a as oe,b as ne,c as ae,d as R,e as me,f as se,i as de,j as pe,k as ue,l as ge,m as ce}from"./chunk-X3MTP32J.js";import"./chunk-LFHO5FEQ.js";import{B as J,C as K,E as W,F as ee,G as te,H as re,I as ie,K as le,x as Y,y as Q,z as d}from"./chunk-TFT64DBV.js";import{$a as M,Ba as $,Ga as B,Ka as u,Ob as G,Pb as Z,Qb as H,Sb as X,Xa as o,Ya as l,Za as i,_a as y,ba as S,bb as I,ca as C,cb as v,qb as m,rb as T,wb as E,xa as a}from"./chunk-TGQ2LSEW.js";var b=(t,n)=>({"mat-form-field-valid":t,"mat-form-field-invalid":n});function fe(t,n){if(t&1){let e=M();l(0,"div",4)(1,"p",5),m(2,"\xBFQu\xE9 tipo de usuario sos?"),i(),l(3,"div",6)(4,"button",7),I("click",function(){S(e);let s=v();return C(s.seleccionarTipo("paciente"))}),m(5," Paciente "),i(),l(6,"button",8),I("click",function(){S(e);let s=v();return C(s.seleccionarTipo("especialista"))}),m(7," Especialista "),i()()()}}function Fe(t,n){t&1&&(l(0,"mat-error"),m(1,"Campo obligatorio"),i())}function xe(t,n){t&1&&(l(0,"mat-error"),m(1,"M\xEDnimo 2 caracteres"),i())}function ve(t,n){t&1&&(l(0,"mat-error"),m(1,"Solo letras"),i())}function Ee(t,n){t&1&&(l(0,"mat-error"),m(1,"Campo obligatorio"),i())}function be(t,n){t&1&&(l(0,"mat-error"),m(1,"M\xEDnimo 2 caracteres"),i())}function ye(t,n){t&1&&(l(0,"mat-error"),m(1,"Solo letras"),i())}function he(t,n){t&1&&(l(0,"mat-error"),m(1,"Campo obligatorio"),i())}function Se(t,n){t&1&&(l(0,"mat-error"),m(1,"M\xEDnimo 18"),i())}function Ce(t,n){t&1&&(l(0,"mat-error"),m(1,"M\xE1ximo 99"),i())}function Ie(t,n){t&1&&(l(0,"mat-error"),m(1,"Campo obligatorio"),i())}function Me(t,n){t&1&&(l(0,"mat-error"),m(1,"Debe contener 8 d\xEDgitos"),i())}function Te(t,n){if(t&1&&(l(0,"mat-option",29),m(1),i()),t&2){let e=n.$implicit;o("value",e),a(),T(e)}}function Re(t,n){t&1&&(l(0,"mat-error"),m(1,"Campo obligatorio"),i())}function we(t,n){if(t&1&&(l(0,"mat-form-field",11)(1,"mat-label"),m(2,"Obra Social"),i(),l(3,"mat-select",27),u(4,Te,2,2,"mat-option",28),i(),u(5,Re,2,0,"mat-error",13),i()),t&2){let e,p,s=v(2);o("ngClass",E(3,b,((e=s.registroForm.get("obraSocial"))==null?null:e.valid)&&(((e=s.registroForm.get("obraSocial"))==null?null:e.dirty)||((e=s.registroForm.get("obraSocial"))==null?null:e.touched)),((e=s.registroForm.get("obraSocial"))==null?null:e.invalid)&&(((e=s.registroForm.get("obraSocial"))==null?null:e.dirty)||((e=s.registroForm.get("obraSocial"))==null?null:e.touched)))),a(4),o("ngForOf",s.obraSocialOptions),a(),o("ngIf",(p=s.registroForm.get("obraSocial"))==null?null:p.hasError("required"))}}function Ve(t,n){t&1&&(l(0,"mat-error"),m(1,"Campo obligatorio"),i())}function Oe(t,n){t&1&&(l(0,"mat-error"),m(1,"Email inv\xE1lido"),i())}function qe(t,n){t&1&&(l(0,"mat-error"),m(1,"Campo obligatorio"),i())}function Ne(t,n){t&1&&(l(0,"mat-error"),m(1,"M\xEDnimo 7 caracteres"),i())}function Ae(t,n){if(t&1&&(l(0,"mat-option",29),m(1),i()),t&2){let e=n.$implicit;o("value",e),a(),T(e)}}function De(t,n){t&1&&(l(0,"mat-error"),m(1,"Campo obligatorio"),i())}function ke(t,n){if(t&1&&(l(0,"mat-form-field",11)(1,"mat-label"),m(2,"Especialidad"),i(),l(3,"mat-select",30),u(4,Ae,2,2,"mat-option",28),i(),u(5,De,2,0,"mat-error",13),i()),t&2){let e,p,s=v(2);o("ngClass",E(3,b,((e=s.registroForm.get("especialidad"))==null?null:e.valid)&&(((e=s.registroForm.get("especialidad"))==null?null:e.dirty)||((e=s.registroForm.get("especialidad"))==null?null:e.touched)),((e=s.registroForm.get("especialidad"))==null?null:e.invalid)&&(((e=s.registroForm.get("especialidad"))==null?null:e.dirty)||((e=s.registroForm.get("especialidad"))==null?null:e.touched)))),a(4),o("ngForOf",s.especialidadOptions),a(),o("ngIf",(p=s.registroForm.get("especialidad"))==null?null:p.hasError("required"))}}function Ue(t,n){t&1&&(l(0,"mat-error"),m(1,"Campo obligatorio"),i())}function Le(t,n){t&1&&(l(0,"mat-error"),m(1,"M\xEDnimo 2 caracteres"),i())}function je(t,n){t&1&&(l(0,"mat-error"),m(1,"Solo letras"),i())}function ze(t,n){if(t&1&&(l(0,"mat-form-field",11)(1,"mat-label"),m(2,"Otra Especialidad"),i(),y(3,"input",31),u(4,Ue,2,0,"mat-error",13)(5,Le,2,0,"mat-error",13)(6,je,2,0,"mat-error",13),i()),t&2){let e,p,s,h,g,c=v(2);o("ngClass",E(5,b,((e=c.registroForm.get("otraEspecialidad"))==null?null:e.valid)&&(((e=c.registroForm.get("otraEspecialidad"))==null?null:e.dirty)||((e=c.registroForm.get("otraEspecialidad"))==null?null:e.touched)),((e=c.registroForm.get("otraEspecialidad"))==null?null:e.invalid)&&(((e=c.registroForm.get("otraEspecialidad"))==null?null:e.dirty)||((e=c.registroForm.get("otraEspecialidad"))==null?null:e.touched)))),a(3),o("disabled",!((p=c.registroForm.get("otraEspecialidad"))!=null&&p.enabled)),a(),o("ngIf",(s=c.registroForm.get("otraEspecialidad"))==null?null:s.hasError("required")),a(),o("ngIf",(h=c.registroForm.get("otraEspecialidad"))==null?null:h.hasError("minlength")),a(),o("ngIf",(g=c.registroForm.get("otraEspecialidad"))==null?null:g.hasError("pattern"))}}function Pe(t,n){t&1&&(l(0,"mat-error"),m(1," Debe seleccionar una imagen. "),i())}function $e(t,n){t&1&&(l(0,"mat-error"),m(1," Solo se permiten archivos .jpg o .png "),i())}function Be(t,n){if(t&1){let e=M();l(0,"div",9)(1,"form",10),I("ngSubmit",function(){S(e);let s=v();return C(s.registrar())}),l(2,"mat-form-field",11)(3,"mat-label"),m(4,"Nombre"),i(),y(5,"input",12),u(6,Fe,2,0,"mat-error",13)(7,xe,2,0,"mat-error",13)(8,ve,2,0,"mat-error",13),i(),l(9,"mat-form-field",11)(10,"mat-label"),m(11,"Apellido"),i(),y(12,"input",14),u(13,Ee,2,0,"mat-error",13)(14,be,2,0,"mat-error",13)(15,ye,2,0,"mat-error",13),i(),l(16,"mat-form-field",11)(17,"mat-label"),m(18,"Edad"),i(),y(19,"input",15),u(20,he,2,0,"mat-error",13)(21,Se,2,0,"mat-error",13)(22,Ce,2,0,"mat-error",13),i(),l(23,"mat-form-field",11)(24,"mat-label"),m(25,"DNI"),i(),y(26,"input",16),u(27,Ie,2,0,"mat-error",13)(28,Me,2,0,"mat-error",13),i(),u(29,we,6,6,"mat-form-field",17),l(30,"mat-form-field",11)(31,"mat-label"),m(32,"Email"),i(),y(33,"input",18),u(34,Ve,2,0,"mat-error",13)(35,Oe,2,0,"mat-error",13),i(),l(36,"mat-form-field",11)(37,"mat-label"),m(38,"Contrase\xF1a"),i(),y(39,"input",19),u(40,qe,2,0,"mat-error",13)(41,Ne,2,0,"mat-error",13),i(),u(42,ke,6,6,"mat-form-field",17)(43,ze,7,8,"mat-form-field",17),l(44,"div",20)(45,"label",21),m(46,"Imagen"),i(),l(47,"input",22),I("change",function(s){S(e);let h=v();return C(h.onFileSelected(s))}),i(),u(48,Pe,2,0,"mat-error",13)(49,$e,2,0,"mat-error",13),i(),l(50,"div",23)(51,"button",24),m(52," Registrarse "),i()(),l(53,"div",25)(54,"button",26),I("click",function(){S(e);let s=v();return C(s.tipoUsuario=null)}),m(55," Cambiar tipo de usuario "),i()()()()}if(t&2){let e,p,s,h,g,c,w,V,_,O,q,N,f,A,D,F,k,U,x,L,j,z,P,r=v();a(),o("formGroup",r.registroForm),a(),o("ngClass",E(28,b,((e=r.registroForm.get("nombre"))==null?null:e.valid)&&(((e=r.registroForm.get("nombre"))==null?null:e.dirty)||((e=r.registroForm.get("nombre"))==null?null:e.touched)),((e=r.registroForm.get("nombre"))==null?null:e.invalid)&&(((e=r.registroForm.get("nombre"))==null?null:e.dirty)||((e=r.registroForm.get("nombre"))==null?null:e.touched)))),a(4),o("ngIf",(p=r.registroForm.get("nombre"))==null?null:p.hasError("required")),a(),o("ngIf",(s=r.registroForm.get("nombre"))==null?null:s.hasError("minlength")),a(),o("ngIf",(h=r.registroForm.get("nombre"))==null?null:h.hasError("pattern")),a(),o("ngClass",E(31,b,((g=r.registroForm.get("apellido"))==null?null:g.valid)&&(((g=r.registroForm.get("apellido"))==null?null:g.dirty)||((g=r.registroForm.get("apellido"))==null?null:g.touched)),((g=r.registroForm.get("apellido"))==null?null:g.invalid)&&(((g=r.registroForm.get("apellido"))==null?null:g.dirty)||((g=r.registroForm.get("apellido"))==null?null:g.touched)))),a(4),o("ngIf",(c=r.registroForm.get("apellido"))==null?null:c.hasError("required")),a(),o("ngIf",(w=r.registroForm.get("apellido"))==null?null:w.hasError("minlength")),a(),o("ngIf",(V=r.registroForm.get("apellido"))==null?null:V.hasError("pattern")),a(),o("ngClass",E(34,b,((_=r.registroForm.get("edad"))==null?null:_.valid)&&(((_=r.registroForm.get("edad"))==null?null:_.dirty)||((_=r.registroForm.get("edad"))==null?null:_.touched)),((_=r.registroForm.get("edad"))==null?null:_.invalid)&&(((_=r.registroForm.get("edad"))==null?null:_.dirty)||((_=r.registroForm.get("edad"))==null?null:_.touched)))),a(4),o("ngIf",(O=r.registroForm.get("edad"))==null?null:O.hasError("required")),a(),o("ngIf",(q=r.registroForm.get("edad"))==null?null:q.hasError("min")),a(),o("ngIf",(N=r.registroForm.get("edad"))==null?null:N.hasError("max")),a(),o("ngClass",E(37,b,((f=r.registroForm.get("dni"))==null?null:f.valid)&&(((f=r.registroForm.get("dni"))==null?null:f.dirty)||((f=r.registroForm.get("dni"))==null?null:f.touched)),((f=r.registroForm.get("dni"))==null?null:f.invalid)&&(((f=r.registroForm.get("dni"))==null?null:f.dirty)||((f=r.registroForm.get("dni"))==null?null:f.touched)))),a(4),o("ngIf",(A=r.registroForm.get("dni"))==null?null:A.hasError("required")),a(),o("ngIf",(D=r.registroForm.get("dni"))==null?null:D.hasError("pattern")),a(),o("ngIf",r.tipoUsuario==="paciente"),a(),o("ngClass",E(40,b,((F=r.registroForm.get("mail"))==null?null:F.valid)&&(((F=r.registroForm.get("mail"))==null?null:F.dirty)||((F=r.registroForm.get("mail"))==null?null:F.touched)),((F=r.registroForm.get("mail"))==null?null:F.invalid)&&(((F=r.registroForm.get("mail"))==null?null:F.dirty)||((F=r.registroForm.get("mail"))==null?null:F.touched)))),a(4),o("ngIf",(k=r.registroForm.get("mail"))==null?null:k.hasError("required")),a(),o("ngIf",(U=r.registroForm.get("mail"))==null?null:U.hasError("email")),a(),o("ngClass",E(43,b,((x=r.registroForm.get("password"))==null?null:x.valid)&&(((x=r.registroForm.get("password"))==null?null:x.dirty)||((x=r.registroForm.get("password"))==null?null:x.touched)),((x=r.registroForm.get("password"))==null?null:x.invalid)&&(((x=r.registroForm.get("password"))==null?null:x.dirty)||((x=r.registroForm.get("password"))==null?null:x.touched)))),a(4),o("ngIf",(L=r.registroForm.get("password"))==null?null:L.hasError("required")),a(),o("ngIf",(j=r.registroForm.get("password"))==null?null:j.hasError("minlength")),a(),o("ngIf",r.tipoUsuario==="especialista"),a(),o("ngIf",r.tipoUsuario==="especialista"),a(5),o("ngIf",(z=r.registroForm.get("imagen"))==null?null:z.hasError("required")),a(),o("ngIf",(P=r.registroForm.get("imagen"))==null?null:P.hasError("invalidType")),a(2),o("disabled",r.registroForm.invalid)}}var _e=class t{constructor(n){this.fb=n}registroForm;selectedImageUrl=null;tipoUsuario=null;obraSocialOptions=["opcion1","opcion2"];especialidadOptions=["Cardiolog\xEDa","Dermatolog\xEDa","Otra"];ngOnInit(){this.registroForm=this.fb.group({nombre:["",[d.required,d.minLength(2),d.pattern(/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/)]],apellido:["",[d.required,d.minLength(2),d.pattern(/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/)]],edad:["",[d.required,d.pattern(/^\d+$/),d.min(18),d.max(99)]],dni:["",[d.required,d.pattern(/^\d{8}$/)]],obraSocial:["",d.required],mail:["",[d.required,d.email]],password:["",[d.required,d.minLength(7)]],especialidad:["",d.required],otraEspecialidad:[{value:"",disabled:!0},[d.minLength(2),d.pattern(/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/)]],imagen:[null,d.required]}),this.registroForm.get("especialidad")?.valueChanges.subscribe(n=>{let e=this.registroForm.get("otraEspecialidad");n==="Otra"?(e?.enable(),e?.setValidators([d.required,d.minLength(2),d.pattern(/^[A-Za-zÁÉÍÓÚáéíóúÑñ\s]+$/)])):(e?.disable(),e?.clearValidators()),e?.updateValueAndValidity()})}onFileSelected(n){let e=n.target;if(!e.files||e.files.length===0){this.registroForm.get("imagen")?.setValue(null),this.registroForm.get("imagen")?.setErrors({required:!0}),this.selectedImageUrl=null;return}let p=e.files[0];if(!["image/jpeg","image/png","image/jpg"].includes(p.type)){this.registroForm.get("imagen")?.setErrors({invalidType:!0}),this.selectedImageUrl=null;return}this.registroForm.get("imagen")?.setValue(p),this.registroForm.get("imagen")?.setErrors(null)}seleccionarTipo(n){this.tipoUsuario=n,n==="paciente"?(this.registroForm.get("obraSocial")?.setValidators(d.required),this.registroForm.get("especialidad")?.clearValidators()):(this.registroForm.get("especialidad")?.setValidators(d.required),this.registroForm.get("obraSocial")?.clearValidators()),this.registroForm.get("obraSocial")?.updateValueAndValidity(),this.registroForm.get("especialidad")?.updateValueAndValidity()}registrar(){this.registroForm.valid?console.log("Formulario enviado:",this.registroForm.value):this.registroForm.markAllAsTouched()}static \u0275fac=function(e){return new(e||t)($(ie))};static \u0275cmp=B({type:t,selectors:[["app-register"]],decls:5,vars:2,consts:[[1,"pt-30","pb-90"],[1,"pb-1","text-center","text-4xl","font-bold","text-azul-oscuro"],["class","pt-16 pb-60 text-center",4,"ngIf"],["class","flex justify-center bg-white py-8",4,"ngIf"],[1,"pt-16","pb-60","text-center"],[1,"mb-6","text-xl","text-gray-700"],[1,"flex","justify-center","gap-6"],["mat-raised-button","",1,"rounded-full","bg-azul-oscuro","px-8","py-3","text-lg","text-white","transition","hover:scale-105",3,"click"],["mat-raised-button","",1,"rounded-full","bg-verde-oscuro","px-8","py-3","text-lg","text-white","transition","hover:scale-105",3,"click"],[1,"flex","justify-center","bg-white","py-8"],[1,"grid","w-full","max-w-2xl","grid-cols-1","gap-4","rounded-xl","bg-crema","p-8","shadow-lg","md:grid-cols-2",3,"ngSubmit","formGroup"],["appearance","fill",1,"col-span-1",3,"ngClass"],["matInput","","formControlName","nombre"],[4,"ngIf"],["matInput","","formControlName","apellido"],["matInput","","type","number","formControlName","edad"],["matInput","","formControlName","dni"],["appearance","fill","class","col-span-1",3,"ngClass",4,"ngIf"],["matInput","","type","email","formControlName","mail"],["matInput","","type","password","formControlName","password"],[1,"col-span-2","flex","flex-col","gap-2"],[1,"font-semibold","text-azul-oscuro"],["type","file","accept","image/*",1,"register-input",3,"change"],[1,"col-span-2","flex","justify-center","pt-4"],["mat-raised-button","","color","primary","type","submit",1,"rounded-full","bg-verde-oscuro","px-8","py-2","text-white","shadow-lg",3,"disabled"],[1,"col-span-2","mt-1","flex","justify-center"],["mat-button","","type","button",1,"text-sm","text-gray-600","underline",3,"click"],["formControlName","obraSocial"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formControlName","especialidad"],["matInput","","formControlName","otraEspecialidad",3,"disabled"]],template:function(e,p){e&1&&(l(0,"div",0)(1,"h2",1),m(2,"Registro"),i(),u(3,fe,8,0,"div",2)(4,Be,56,46,"div",3),i()),e&2&&(a(3),o("ngIf",!p.tipoUsuario),a(),o("ngIf",p.tipoUsuario))},dependencies:[X,G,Z,H,le,W,Q,ee,J,K,te,re,R,ae,oe,ne,se,me,ce,ge,ue,pe,de,Y],styles:[".register-input[_ngcontent-%COMP%]{padding:12px 20px;margin:10px 0;border:2px solid #333;border-radius:6px;background-color:#222;color:#fff;font-size:16px;cursor:pointer;transition:all .3s ease}.register-input[_ngcontent-%COMP%]:hover{border-color:#92cc34;background-color:#2c2c2c}.register-input[_ngcontent-%COMP%]:focus{border-color:#19b44d;background-color:#2c2c2c;outline:none}.register-input[_ngcontent-%COMP%]::-webkit-file-upload-button{background-color:#fff;color:#fff;padding:8px 15px;border-radius:4px;border:none;cursor:pointer;font-size:14px;transition:background-color .3s ease}"]})};export{_e as Register};
