import{a as we,b as Ae}from"./chunk-JXGM5RTB.js";import{a as Ve}from"./chunk-VLDSBO4T.js";import{a as Ee}from"./chunk-RTOFS77S.js";import{b as $}from"./chunk-ISZQ6G3H.js";import"./chunk-GGQ7LRWG.js";import{c as j,d as D,f as V,g as I,i as me,j as ue}from"./chunk-P2GLRHRS.js";import{n as ye}from"./chunk-M2F6BYP4.js";import{b as ve}from"./chunk-VPTHVLTQ.js";import{k as be}from"./chunk-YDT6XDAL.js";import"./chunk-LMZWYZYD.js";import"./chunk-UIGXKFJS.js";import{c as G,g as q,j as K,l as pe,n as _e,t as ge,u as xe,v as Ce,w as he,x as U,y as fe}from"./chunk-3XECLLOM.js";import"./chunk-FFHKXHWV.js";import{e as le,h as ce,i as de,j as L}from"./chunk-DDKTLT4U.js";import{Ab as C,Eb as p,Gb as c,Oa as s,P as re,Rb as ne,Sb as Q,Ta as N,Ub as l,Vb as w,Wb as h,Xb as W,Yb as v,Z as O,Za as B,Zb as b,_b as y,ca as m,da as u,dc as A,eb as Y,ec as H,f as ae,gc as S,hc as se,ic as R,mb as oe,na as E,nb as g,ob as x,qb as M,rb as k,sb as P,tb as _,ub as n,vb as o,wb as J}from"./chunk-PTIYVII4.js";import{j as z}from"./chunk-K4ALXBGI.js";var f={altura:{min:40,max:250,unidad:"cm"},peso:{min:.5,max:300,unidad:"kg"},temperatura:{min:32,max:43,unidad:"\xB0C"},presion:{sistolica:{min:50,max:250},diastolica:{min:30,max:180},unidad:"mmHg"}};function T(r,i){return r==null||isNaN(r)?{valido:!1,mensaje:"El valor es requerido"}:r<i.min?{valido:!1,mensaje:`El valor debe ser mayor o igual a ${i.min} ${i.unidad}`}:r>i.max?{valido:!1,mensaje:`El valor debe ser menor o igual a ${i.max} ${i.unidad}`}:{valido:!0,mensaje:""}}function X(r){if(!r||!r.trim())return{valido:!1,mensaje:"La presi\xF3n arterial es requerida"};let i=/^(\d+)\s*[/-]\s*(\d+)$/,e=r.trim().match(i);if(!e)return{valido:!1,mensaje:'Formato inv\xE1lido. Use formato "120/80"'};let a=parseInt(e[1],10),t=parseInt(e[2],10);return a<f.presion.sistolica.min||a>f.presion.sistolica.max?{valido:!1,mensaje:`Presi\xF3n sist\xF3lica debe estar entre ${f.presion.sistolica.min} y ${f.presion.sistolica.max} ${f.presion.unidad}`}:t<f.presion.diastolica.min||t>f.presion.diastolica.max?{valido:!1,mensaje:`Presi\xF3n diast\xF3lica debe estar entre ${f.presion.diastolica.min} y ${f.presion.diastolica.max} ${f.presion.unidad}`}:a<=t?{valido:!1,mensaje:"La presi\xF3n sist\xF3lica debe ser mayor que la diast\xF3lica"}:{valido:!0,mensaje:""}}function Fe(r){let i=[],e=T(r.alturaCm,f.altura);e.valido||i.push(`Altura: ${e.mensaje}`);let a=T(r.pesoKg,f.peso);a.valido||i.push(`Peso: ${a.mensaje}`);let t=T(r.temperaturaC,f.temperatura);t.valido||i.push(`Temperatura: ${t.mensaje}`);let d=X(r.presionArterial);return d.valido||i.push(`Presi\xF3n arterial: ${d.mensaje}`),{valido:i.length===0,errores:i}}var Re=r=>({"max-w-3xl p-10":r}),F=r=>({"border-red-500 ring-red-300":r}),ze=(r,i)=>({"bg-indigo-600":r,"bg-gray-300":i}),De=(r,i)=>({"translate-x-6":r,"translate-x-1":i}),Ie=(r,i)=>({"bg-indigo-600 hover:bg-indigo-800":r,"bg-gray-400":i});function Oe(r,i){if(r&1){let e=C();n(0,"button",13),p("click",function(){m(e);let t=c(2);return u(t.mostrarFormularioCancelar=!0)}),l(1," Cancelar turno "),o()}}function Ne(r,i){if(r&1){let e=C();n(0,"button",14),p("click",function(){m(e);let t=c(2);return u(t.mostrarFormularioRechazar=!0)}),l(1," Rechazar turno "),o()}}function Be(r,i){if(r&1){let e=C();n(0,"button",15),p("click",function(){m(e);let t=c(2);return u(t.mostrarFormularioAceptar=!0)}),l(1," Aceptar turno "),o()}}function We(r,i){if(r&1){let e=C();n(0,"button",16),p("click",function(){m(e);let t=c(2);return u(t.mostrarFormularioFinalizar=!0)}),l(1," Finalizar turno "),o()}}function He(r,i){if(r&1){let e=C();n(0,"button",17),p("click",function(){m(e);let t=c(2);return u(t.verComentarioPaciente())}),l(1," Ver comentario paciente "),o()}}function Le(r,i){if(r&1){let e=C();n(0,"button",18),p("click",function(){m(e);let t=c(2);return u(t.verComentarioEspecialista())}),l(1," Ver mi comentario "),o()}}function je(r,i){if(r&1){let e=C();n(0,"button",19),p("click",function(){m(e);let t=c(2);return u(t.verResenia())}),l(1," Ver mi rese\xF1a "),o()}}function Ge(r,i){if(r&1){let e=C();n(0,"button",20),p("click",function(){m(e);let t=c(2);return u(t.mostrarFormularioHistoriaClinica=!0)}),l(1," Cargar historia cl\xEDnica "),o()}}function qe(r,i){if(r&1&&(n(0,"div",2),g(1,Oe,2,0,"button",5),g(2,Ne,2,0,"button",6),g(3,Be,2,0,"button",7),g(4,We,2,0,"button",8),g(5,He,2,0,"button",9),g(6,Le,2,0,"button",10),g(7,je,2,0,"button",11),g(8,Ge,2,0,"button",12),o()),r&2){let e=c();s(),x(e.puedeCancelar?1:-1),s(),x(e.puedeRechazar?2:-1),s(),x(e.puedeAceptar?3:-1),s(),x(e.puedeFinalizar?4:-1),s(),x(e.puedeVerComentarioPaciente?5:-1),s(),x(e.puedeVerComentarioEspecialista?6:-1),s(),x(e.puedeVerResenia?7:-1),s(),x(e.puedeCargarHistoriaClinica?8:-1)}}function Ke(r,i){if(r&1){let e=C();n(0,"div",2)(1,"textarea",21),y("ngModelChange",function(t){m(e);let d=c();return b(d.comentarioCancelar,t)||(d.comentarioCancelar=t),u(t)}),o(),n(2,"div",22)(3,"button",23),p("click",function(){m(e);let t=c();return u(t.cancelarAccionCancelar())}),l(4," Cancelar "),o(),n(5,"button",24),p("click",function(){m(e);let t=c();return u(t.confirmarCancelarTurno())}),l(6," Confirmar cancelaci\xF3n "),o()()()}if(r&2){let e=c();s(),v("ngModel",e.comentarioCancelar),s(4),_("disabled",!e.comentarioCancelar.trim()||e.cargando())}}function Ue(r,i){if(r&1){let e=C();n(0,"div",2)(1,"textarea",25),y("ngModelChange",function(t){m(e);let d=c();return b(d.comentarioRechazar,t)||(d.comentarioRechazar=t),u(t)}),o(),n(2,"div",22)(3,"button",23),p("click",function(){m(e);let t=c();return u(t.cancelarAccionRechazar())}),l(4," Cancelar "),o(),n(5,"button",24),p("click",function(){m(e);let t=c();return u(t.confirmarRechazarTurno())}),l(6," Confirmar Rechazo "),o()()()}if(r&2){let e=c();s(),v("ngModel",e.comentarioRechazar),s(4),_("disabled",!e.comentarioRechazar.trim()||e.cargando())}}function $e(r,i){if(r&1){let e=C();n(0,"div",2)(1,"div",22)(2,"button",23),p("click",function(){m(e);let t=c();return u(t.cancelarAccionAceptar())}),l(3," Cancelar "),o(),n(4,"button",26),p("click",function(){m(e);let t=c();return u(t.confirmarAceptarTurno())}),l(5," Confirmar Aceptar "),o()()()}}function Ze(r,i){if(r&1){let e=C();n(0,"div",2)(1,"textarea",27),y("ngModelChange",function(t){m(e);let d=c();return b(d.reseniaFinalizar,t)||(d.reseniaFinalizar=t),u(t)}),o(),n(2,"div",22)(3,"button",23),p("click",function(){m(e);let t=c();return u(t.cancelarAccionFinalizar())}),l(4," Cancelar "),o(),n(5,"button",28),p("click",function(){m(e);let t=c();return u(t.confirmarFinalizarTurno())}),l(6," Confirmar Finalizar "),o()()()}if(r&2){let e=c();s(),v("ngModel",e.reseniaFinalizar),s(4),_("disabled",!e.reseniaFinalizar.trim()||e.cargando())}}function Ye(r,i){if(r&1){let e=C();n(0,"div",3)(1,"h3",29),l(2," Rese\xF1a "),o(),n(3,"p",30),l(4),o(),n(5,"button",31),p("click",function(){m(e);let t=c();return u(t.volverDesdeVistaResenia())}),l(6," Volver "),o()()}if(r&2){let e=c();s(4),h(" ",e.cita.resenia||"No se ha dejado una rese\xF1a para este turno."," ")}}function Je(r,i){if(r&1&&(n(0,"p",37),l(1),o()),r&2){let e=c(2);s(),w(e.errorAltura)}}function Qe(r,i){if(r&1&&(n(0,"p",37),l(1),o()),r&2){let e=c(2);s(),w(e.errorPeso)}}function Xe(r,i){if(r&1&&(n(0,"p",37),l(1),o()),r&2){let e=c(2);s(),w(e.errorTemperatura)}}function et(r,i){if(r&1&&(n(0,"p",37),l(1),o()),r&2){let e=c(2);s(),w(e.errorPresion)}}function tt(r,i){if(r&1){let e=C();n(0,"div",45)(1,"div")(2,"label",64),l(3),o(),n(4,"input",65),y("ngModelChange",function(t){let d=m(e).$implicit;return b(d.clave,t)||(d.clave=t),u(t)}),o()(),n(5,"div")(6,"label",64),l(7,"Valor"),o(),n(8,"input",65),y("ngModelChange",function(t){let d=m(e).$implicit;return b(d.valor,t)||(d.valor=t),u(t)}),o()()()}if(r&2){let e=i.$implicit,a=i.$index,t=c(2);s(2),_("for","clave-texto-"+a),s(),h("Clave #",a+1),s(),_("id","clave-texto-"+a),v("ngModel",e.clave),_("placeholder",t.obtenerPlaceholderClave(a)),s(2),_("for","valor-texto-"+a),s(2),_("id","valor-texto-"+a),v("ngModel",e.valor),_("placeholder",t.obtenerPlaceholderValor(a))}}function it(r,i){if(r&1){let e=C();n(0,"div",4)(1,"h3",32),l(2," Cargar historia cl\xEDnica "),o(),n(3,"div",33)(4,"div")(5,"label",34),l(6,"Altura (cm) "),n(7,"span",35),l(8),o()(),n(9,"input",36),y("ngModelChange",function(t){m(e);let d=c();return b(d.registro.alturaCm,t)||(d.registro.alturaCm=t),u(t)}),p("blur",function(){m(e);let t=c();return u(t.validarAltura())})("input",function(){m(e);let t=c();return u(t.validarAltura())}),o(),g(10,Je,2,1,"p",37),o(),n(11,"div")(12,"label",38),l(13,"Peso (kg) "),n(14,"span",35),l(15),o()(),n(16,"input",39),y("ngModelChange",function(t){m(e);let d=c();return b(d.registro.pesoKg,t)||(d.registro.pesoKg=t),u(t)}),p("blur",function(){m(e);let t=c();return u(t.validarPeso())})("input",function(){m(e);let t=c();return u(t.validarPeso())}),o(),g(17,Qe,2,1,"p",37),o(),n(18,"div")(19,"label",40),l(20,"Temperatura (\xB0C) "),n(21,"span",35),l(22),o()(),n(23,"input",41),y("ngModelChange",function(t){m(e);let d=c();return b(d.registro.temperaturaC,t)||(d.registro.temperaturaC=t),u(t)}),p("blur",function(){m(e);let t=c();return u(t.validarTemperatura())})("input",function(){m(e);let t=c();return u(t.validarTemperatura())}),o(),g(24,Xe,2,1,"p",37),o(),n(25,"div")(26,"label",42),l(27,"Presi\xF3n arterial "),n(28,"span",35),l(29,"(ej: 120/80)"),o()(),n(30,"input",43),y("ngModelChange",function(t){m(e);let d=c();return b(d.registro.presionArterial,t)||(d.registro.presionArterial=t),u(t)}),p("blur",function(){m(e);let t=c();return u(t.validarPresion())})("input",function(){m(e);let t=c();return u(t.validarPresion())}),o(),g(31,et,2,1,"p",37),o()(),n(32,"div",44)(33,"div",4),k(34,tt,9,9,"div",45,M),o(),n(36,"div",46)(37,"div",33)(38,"div")(39,"label",47),l(40,"Clave slider"),o(),n(41,"input",48),y("ngModelChange",function(t){m(e);let d=c();return b(d.datoSlider.clave,t)||(d.datoSlider.clave=t),u(t)}),o()(),n(42,"div")(43,"label",49),l(44),o(),n(45,"input",50),y("ngModelChange",function(t){m(e);let d=c();return b(d.datoSlider.valor,t)||(d.datoSlider.valor=t),u(t)}),o()()(),n(46,"div",33)(47,"div")(48,"label",51),l(49,"Clave num\xE9rica"),o(),n(50,"input",52),y("ngModelChange",function(t){m(e);let d=c();return b(d.datoNumero.clave,t)||(d.datoNumero.clave=t),u(t)}),o()(),n(51,"div")(52,"label",53),l(53,"Valor"),o(),n(54,"input",54),y("ngModelChange",function(t){m(e);let d=c();return b(d.datoNumero.valor,t)||(d.datoNumero.valor=t),u(t)}),o()()(),n(55,"div",55)(56,"div")(57,"label",56),l(58,"Clave boolean"),o(),n(59,"input",57),y("ngModelChange",function(t){m(e);let d=c();return b(d.datoBoolean.clave,t)||(d.datoBoolean.clave=t),u(t)}),o()(),n(60,"div",58)(61,"button",59),p("click",function(){m(e);let t=c();return u(t.datoBoolean.valor=!t.datoBoolean.valor)}),J(62,"span",60),o(),n(63,"span",61),l(64),o()()()()(),n(65,"div",62)(66,"button",63),p("click",function(){m(e);let t=c();return u(t.guardarHistoriaClinica())}),l(67," Guardar historia cl\xEDnica "),o()()()}if(r&2){let e=c();s(8),W("(",e.RANGOS_MEDICOS.altura.min,"-",e.RANGOS_MEDICOS.altura.max,")"),s(),v("ngModel",e.registro.alturaCm),_("min",e.RANGOS_MEDICOS.altura.min)("max",e.RANGOS_MEDICOS.altura.max)("ngClass",A(40,F,e.errorAltura)),s(),x(e.errorAltura?10:-1),s(5),W("(",e.RANGOS_MEDICOS.peso.min,"-",e.RANGOS_MEDICOS.peso.max,")"),s(),v("ngModel",e.registro.pesoKg),_("min",e.RANGOS_MEDICOS.peso.min)("max",e.RANGOS_MEDICOS.peso.max)("ngClass",A(42,F,e.errorPeso)),s(),x(e.errorPeso?17:-1),s(5),W("(",e.RANGOS_MEDICOS.temperatura.min,"-",e.RANGOS_MEDICOS.temperatura.max,")"),s(),v("ngModel",e.registro.temperaturaC),_("min",e.RANGOS_MEDICOS.temperatura.min)("max",e.RANGOS_MEDICOS.temperatura.max)("ngClass",A(44,F,e.errorTemperatura)),s(),x(e.errorTemperatura?24:-1),s(6),v("ngModel",e.registro.presionArterial),_("ngClass",A(46,F,e.errorPresion)),s(),x(e.errorPresion?31:-1),s(3),P(e.datosTexto),s(7),v("ngModel",e.datoSlider.clave),_("ngClass",A(48,F,!e.datoSlider.clave.trim())),s(3),h(" Valor (0\u2013100): ",e.datoSlider.valor," "),s(),v("ngModel",e.datoSlider.valor),s(5),v("ngModel",e.datoNumero.clave),_("ngClass",A(50,F,!e.datoNumero.clave.trim())),s(4),v("ngModel",e.datoNumero.valor),_("ngClass",A(52,F,e.datoNumero.valor===null)),s(5),v("ngModel",e.datoBoolean.clave),_("ngClass",A(54,F,!e.datoBoolean.clave.trim())),s(2),_("ngClass",H(56,ze,e.datoBoolean.valor,!e.datoBoolean.valor)),oe("aria-checked",e.datoBoolean.valor),s(),_("ngClass",H(59,De,e.datoBoolean.valor,!e.datoBoolean.valor)),s(2),h(" ",e.datoBoolean.valor?"S\xED":"No"," "),s(2),_("disabled",e.cargando()||!e.esFormularioHistoriaClinicaValido())("ngClass",H(62,Ie,e.esFormularioHistoriaClinicaValido()&&!e.cargando(),!e.esFormularioHistoriaClinicaValido()||e.cargando()))}}function at(r,i){if(r&1){let e=C();n(0,"div",3)(1,"h3",29),l(2," Comentario del Paciente "),o(),n(3,"p",30),l(4),o(),n(5,"button",31),p("click",function(){m(e);let t=c();return u(t.volverDesdeVistaComentarioPaciente())}),l(6," Volver "),o()()}if(r&2){let e=c();s(4),w(e.cita.comentarioPaciente)}}function rt(r,i){if(r&1){let e=C();n(0,"div",3)(1,"h3",29),l(2," Mi Comentario "),o(),n(3,"p",30),l(4),o(),n(5,"button",31),p("click",function(){m(e);let t=c();return u(t.volverDesdeVistaComentarioEspecialista())}),l(6," Volver "),o()()}if(r&2){let e=c();s(4),w(e.cita.comentarioEspecialista)}}var Z=class r{cita;cerrar=new Y;accionRealizada=new Y;turnos=O($);fb=O(he);snackBar=O(ye);cargando=E(!1);RANGOS_MEDICOS=f;errorAltura="";errorPeso="";errorTemperatura="";errorPresion="";mostrarFormularioCancelar=!1;mostrarFormularioRechazar=!1;mostrarFormularioAceptar=!1;mostrarFormularioFinalizar=!1;mostrarFormularioResenia=!1;mostrarFormularioHistoriaClinica=!1;mostrarVistaComentarioPaciente=!1;mostrarVistaComentarioEspecialista=!1;comentarioCancelar="";comentarioRechazar="";reseniaFinalizar="";get puedeCancelar(){return this.cita.estado!=="completado"&&this.cita.estado!=="cancelado"&&this.cita.estado!=="aceptado"&&this.cita.estado!=="rechazado"&&!this.mostrarFormularioCancelar&&!this.mostrarFormularioAceptar&&!this.mostrarFormularioFinalizar&&!this.mostrarFormularioRechazar&&!this.mostrarFormularioHistoriaClinica&&!this.mostrarFormularioResenia&&!this.mostrarVistaComentarioPaciente&&!this.mostrarVistaComentarioEspecialista}get puedeRechazar(){return this.cita.estado!=="completado"&&this.cita.estado!=="cancelado"&&this.cita.estado!=="aceptado"&&this.cita.estado!=="rechazado"&&!this.mostrarFormularioCancelar&&!this.mostrarFormularioAceptar&&!this.mostrarFormularioFinalizar&&!this.mostrarFormularioRechazar&&!this.mostrarFormularioHistoriaClinica&&!this.mostrarFormularioResenia&&!this.mostrarVistaComentarioPaciente&&!this.mostrarVistaComentarioEspecialista}get puedeAceptar(){return this.cita.estado!=="completado"&&this.cita.estado!=="cancelado"&&this.cita.estado!=="aceptado"&&this.cita.estado!=="rechazado"&&!this.mostrarFormularioCancelar&&!this.mostrarFormularioAceptar&&!this.mostrarFormularioFinalizar&&!this.mostrarFormularioRechazar&&!this.mostrarFormularioHistoriaClinica&&!this.mostrarFormularioResenia&&!this.mostrarVistaComentarioPaciente&&!this.mostrarVistaComentarioEspecialista}get puedeFinalizar(){return this.cita.estado==="aceptado"&&!this.mostrarFormularioCancelar&&!this.mostrarFormularioAceptar&&!this.mostrarFormularioFinalizar&&!this.mostrarFormularioRechazar&&!this.mostrarFormularioHistoriaClinica&&!this.mostrarFormularioResenia&&!this.mostrarVistaComentarioPaciente&&!this.mostrarVistaComentarioEspecialista}get puedeCargarHistoriaClinica(){return this.cita.estado==="completado"&&!this.yaTieneHistoriaClinica&&!this.mostrarFormularioCancelar&&!this.mostrarFormularioAceptar&&!this.mostrarFormularioFinalizar&&!this.mostrarFormularioRechazar&&!this.mostrarFormularioResenia&&!this.mostrarFormularioHistoriaClinica&&!this.mostrarVistaComentarioPaciente&&!this.mostrarVistaComentarioEspecialista}get puedeVerResenia(){return this.cita.estado==="completado"&&!!this.cita.resenia&&this.cita.resenia.trim().length>0&&!this.mostrarFormularioCancelar&&!this.mostrarFormularioAceptar&&!this.mostrarFormularioFinalizar&&!this.mostrarFormularioRechazar&&!this.mostrarFormularioResenia&&!this.mostrarFormularioHistoriaClinica&&!this.mostrarVistaComentarioPaciente&&!this.mostrarVistaComentarioEspecialista}get puedeVerComentarioPaciente(){return(this.cita.estado==="cancelado"||this.cita.estado==="completado")&&!!this.cita.comentarioPaciente&&this.cita.comentarioPaciente.trim().length>0&&!this.mostrarFormularioCancelar&&!this.mostrarFormularioAceptar&&!this.mostrarFormularioFinalizar&&!this.mostrarFormularioRechazar&&!this.mostrarFormularioResenia&&!this.mostrarFormularioHistoriaClinica&&!this.mostrarVistaComentarioPaciente&&!this.mostrarVistaComentarioEspecialista}get puedeVerComentarioEspecialista(){return(this.cita.estado==="cancelado"||this.cita.estado==="rechazado")&&!!this.cita.comentarioEspecialista&&this.cita.comentarioEspecialista.trim().length>0&&!this.mostrarFormularioCancelar&&!this.mostrarFormularioAceptar&&!this.mostrarFormularioFinalizar&&!this.mostrarFormularioRechazar&&!this.mostrarFormularioResenia&&!this.mostrarFormularioHistoriaClinica&&!this.mostrarVistaComentarioPaciente&&!this.mostrarVistaComentarioEspecialista}get yaTieneHistoriaClinica(){return this.cita.alturaCm!==null&&this.cita.pesoKg!==null&&this.cita.temperaturaC!==null&&!!this.cita.presionArterial?.trim()}registro={alturaCm:0,pesoKg:0,temperaturaC:0,presionArterial:"",citaId:0};datosTexto=[{clave:"",valor:""},{clave:"",valor:""},{clave:"",valor:""}];datoSlider={clave:"",valor:50};datoNumero={clave:"",valor:null};datoBoolean={clave:"",valor:!1};placeholdersClave=["Diagn\xF3stico","Observaciones","Tratamiento"];placeholdersValor=["Hipertensi\xF3n arterial","Paciente en buen estado","Reposo por 3 d\xEDas"];obtenerPlaceholderClave(i){return this.placeholdersClave[i]||`Campo ${i+1}`}obtenerPlaceholderValor(i){return this.placeholdersValor[i]||"Ingrese valor"}cancelarAccionCancelar(){this.mostrarFormularioCancelar=!1,this.comentarioCancelar=""}confirmarCancelarTurno(){this.comentarioCancelar.trim()&&(this.cargando.set(!0),this.turnos.cancelarCitaEspecialista(this.cita,this.comentarioCancelar.trim()).then(i=>{this.cargando.set(!1),i.success?(this.snackBar.open("Turno cancelado exitosamente.","Cerrar",{duration:3e3}),this.accionRealizada.emit("cancelado"),this.cerrar.emit()):this.snackBar.open(i.message??"Ocurri\xF3 un error","Cerrar",{duration:4e3})}).finally(()=>{this.mostrarFormularioCancelar=!1,this.comentarioCancelar=""}))}cancelarAccionRechazar(){this.mostrarFormularioRechazar=!1,this.comentarioRechazar=""}confirmarRechazarTurno(){this.comentarioRechazar.trim()&&(this.cargando.set(!0),this.turnos.rechazarCitaEspecialista(this.cita,this.comentarioRechazar.trim()).then(i=>{this.cargando.set(!1),i.success?(this.snackBar.open("Turno rechazado exitosamente.","Cerrar",{duration:3e3}),this.accionRealizada.emit("rechazado"),this.cerrar.emit()):this.snackBar.open(i.message??"Ocurri\xF3 un error","Cerrar",{duration:4e3})}).finally(()=>{this.mostrarFormularioRechazar=!1,this.comentarioRechazar=""}))}cancelarAccionAceptar(){this.mostrarFormularioAceptar=!1}confirmarAceptarTurno(){this.cargando.set(!0),this.turnos.aceptarCitaEspecialista(this.cita).then(i=>{this.cargando.set(!1),i.success?(this.snackBar.open("Turno aceptado exitosamente.","Cerrar",{duration:3e3}),this.accionRealizada.emit("aceptado"),this.cerrar.emit()):this.snackBar.open(i.message??"Ocurri\xF3 un error","Cerrar",{duration:4e3})}).finally(()=>{this.mostrarFormularioAceptar=!1})}cancelarAccionFinalizar(){this.mostrarFormularioFinalizar=!1,this.reseniaFinalizar=""}confirmarFinalizarTurno(){this.reseniaFinalizar.trim()&&(this.cargando.set(!0),this.turnos.completarCitaEspecialista(this.cita,this.reseniaFinalizar.trim()).then(i=>{this.cargando.set(!1),i.success?(this.snackBar.open("Turno finalizado exitosamente.","Cerrar",{duration:3e3}),this.accionRealizada.emit("completado"),this.cerrar.emit()):this.snackBar.open(i.message??"Ocurri\xF3 un error","Cerrar",{duration:4e3})}).finally(()=>{this.mostrarFormularioFinalizar=!1,this.reseniaFinalizar=""}))}verResenia(){this.mostrarFormularioResenia=!0}volverDesdeVistaResenia(){this.mostrarFormularioResenia=!1}verComentarioPaciente(){this.mostrarVistaComentarioPaciente=!0}volverDesdeVistaComentarioPaciente(){this.mostrarVistaComentarioPaciente=!1}verComentarioEspecialista(){this.mostrarVistaComentarioEspecialista=!0}volverDesdeVistaComentarioEspecialista(){this.mostrarVistaComentarioEspecialista=!1}cancelarHistoriaClinica(){this.mostrarFormularioHistoriaClinica=!1}guardarHistoriaClinica(){return z(this,null,function*(){let i=Fe(this.registro);if(!i.valido){this.snackBar.open(i.errores.join(". "),"Cerrar",{duration:5e3});return}this.cargando.set(!0);let e=[...this.datosTexto.map(t=>({id:0,clave:t.clave,valor:t.valor,citaId:this.registro.citaId})),{id:0,clave:this.datoSlider.clave,valor:this.datoSlider.valor.toString(),citaId:this.registro.citaId},{id:0,clave:this.datoNumero.clave,valor:(this.datoNumero.valor??0).toString(),citaId:this.registro.citaId},{id:0,clave:this.datoBoolean.clave,valor:this.datoBoolean.valor?"S\xED":"No",citaId:this.registro.citaId}].filter(t=>t.clave&&t.valor);if(!this.registro.alturaCm||!this.registro.pesoKg||!this.registro.temperaturaC||!this.registro.presionArterial?.trim()||!this.datoSlider.clave.trim()||!this.datoNumero.clave.trim()||this.datoNumero.valor===null||!this.datoBoolean.clave.trim()){this.snackBar.open("Complet\xE1 todos los campos obligatorios","Cerrar",{duration:3e3}),this.cargando.set(!1);return}this.registro.citaId=this.cita.citaId;let a=yield this.turnos.cargarHistoriaClinica(this.registro,e);this.cargando.set(!1),a.success?(this.snackBar.open("Historia cl\xEDnica guardada","Cerrar",{duration:3e3}),this.accionRealizada.emit("historia_clinica"),this.cerrar.emit()):this.snackBar.open(a.message??"Error al guardar","Cerrar",{duration:4e3})})}esFormularioHistoriaClinicaValido(){let i=this.registro,e=this.datoSlider.clave.trim()!=="",a=this.datoNumero.clave.trim()!==""&&this.datoNumero.valor!==null,t=this.datoBoolean.clave.trim()!=="",d=this.datosTexto.every(ee=>{let te=ee.clave.trim(),ie=ee.valor.trim();return te&&ie||!te&&!ie});return i.alturaCm!==null&&i.pesoKg!==null&&i.temperaturaC!==null&&!!i.presionArterial?.trim()&&e&&a&&t&&d}cerrarModal(){this.cerrar.emit()}validarAltura(){let i=T(this.registro.alturaCm,f.altura);this.errorAltura=i.valido?"":i.mensaje}validarPeso(){let i=T(this.registro.pesoKg,f.peso);this.errorPeso=i.valido?"":i.mensaje}validarTemperatura(){let i=T(this.registro.temperaturaC,f.temperatura);this.errorTemperatura=i.valido?"":i.mensaje}validarPresion(){let i=X(this.registro.presionArterial);this.errorPresion=i.valido?"":i.mensaje}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=B({type:r,selectors:[["app-acciones-especialista"]],inputs:{cita:"cita"},outputs:{cerrar:"cerrar",accionRealizada:"accionRealizada"},decls:11,vars:12,consts:[["tabindex","0","role","button","aria-label","Cerrar modal",1,"fixed","inset-0","z-50","flex","items-center","justify-center","bg-black/50","backdrop-blur-sm"],["appClickFueraPopup","","tabindex","0","role","dialog","aria-modal","true",1,"fixed","top-1/2","left-1/2","z-50","w-full","max-w-md","-translate-x-1/2","-translate-y-1/2","transform","rounded-2xl","bg-white","p-8","shadow-xl","transition-all","duration-300","md:max-w-3xl",3,"clickFuera","ngClass"],[1,"flex","flex-col","gap-3"],[1,"flex","flex-col","items-center","gap-4","text-center"],[1,"flex","flex-col","gap-4"],[1,"rounded-lg","bg-gray-500","px-4","py-2","font-semibold","text-white","transition-transform","hover:scale-105","hover:bg-gray-800"],[1,"rounded-lg","bg-red-500","px-4","py-2","font-semibold","text-white","transition-transform","hover:scale-105","hover:bg-red-700"],[1,"rounded-lg","bg-green-500","px-4","py-2","font-semibold","text-white","transition-transform","hover:scale-105","hover:bg-green-800"],[1,"rounded-lg","bg-blue-400","px-4","py-2","font-semibold","text-white","transition-transform","hover:scale-105","hover:bg-blue-800"],[1,"rounded-lg","bg-cyan-600","px-4","py-2","font-semibold","text-white","transition-transform","hover:scale-105","hover:bg-cyan-700"],[1,"rounded-lg","bg-amber-600","px-4","py-2","font-semibold","text-white","transition-transform","hover:scale-105","hover:bg-amber-700"],[1,"rounded-lg","bg-pink-400","px-4","py-2","font-semibold","text-white","transition-transform","hover:scale-105","hover:bg-pink-700"],[1,"rounded-lg","bg-indigo-500","px-4","py-2","font-semibold","text-white","transition-transform","hover:scale-105","hover:bg-indigo-700"],[1,"rounded-lg","bg-gray-500","px-4","py-2","font-semibold","text-white","transition-transform","hover:scale-105","hover:bg-gray-800",3,"click"],[1,"rounded-lg","bg-red-500","px-4","py-2","font-semibold","text-white","transition-transform","hover:scale-105","hover:bg-red-700",3,"click"],[1,"rounded-lg","bg-green-500","px-4","py-2","font-semibold","text-white","transition-transform","hover:scale-105","hover:bg-green-800",3,"click"],[1,"rounded-lg","bg-blue-400","px-4","py-2","font-semibold","text-white","transition-transform","hover:scale-105","hover:bg-blue-800",3,"click"],[1,"rounded-lg","bg-cyan-600","px-4","py-2","font-semibold","text-white","transition-transform","hover:scale-105","hover:bg-cyan-700",3,"click"],[1,"rounded-lg","bg-amber-600","px-4","py-2","font-semibold","text-white","transition-transform","hover:scale-105","hover:bg-amber-700",3,"click"],[1,"rounded-lg","bg-pink-400","px-4","py-2","font-semibold","text-white","transition-transform","hover:scale-105","hover:bg-pink-700",3,"click"],[1,"rounded-lg","bg-indigo-500","px-4","py-2","font-semibold","text-white","transition-transform","hover:scale-105","hover:bg-indigo-700",3,"click"],["placeholder","Ingrese el motivo de cancelaci\xF3n","rows","3",1,"w-full","resize-none","rounded","border","border-gray-300","px-3","py-2","text-sm","focus:ring-2","focus:ring-red-500","focus:outline-none",3,"ngModelChange","ngModel"],[1,"flex","justify-end","gap-3"],["type","button",1,"rounded","border","border-gray-400","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100",3,"click"],["type","button",1,"rounded","bg-red-600","px-4","py-2","text-sm","font-semibold","text-white","hover:bg-red-800","disabled:opacity-50",3,"click","disabled"],["placeholder","Ingrese el motivo de rechazo","rows","3",1,"w-full","resize-none","rounded","border","border-gray-300","px-3","py-2","text-sm","focus:ring-2","focus:ring-red-500","focus:outline-none",3,"ngModelChange","ngModel"],["type","button",1,"rounded","bg-green-500","px-4","py-2","text-sm","font-semibold","text-white","hover:bg-green-700","disabled:opacity-50",3,"click"],["placeholder","Ingrese una rese\xF1a","rows","3",1,"w-full","resize-none","rounded","border","border-gray-300","px-3","py-2","text-sm","focus:ring-2","focus:ring-pink-400","focus:outline-none",3,"ngModelChange","ngModel"],["type","button",1,"rounded","bg-pink-400","px-4","py-2","text-sm","font-semibold","text-white","hover:bg-pink-600","disabled:opacity-50",3,"click","disabled"],[1,"text-xl","font-bold","text-[color:var(--color-azul-oscuro)]"],[1,"px-2","text-gray-700","italic"],[1,"mt-4","rounded","bg-gray-300","px-4","py-2","text-sm","font-semibold","text-gray-800","hover:bg-gray-400",3,"click"],[1,"text-center","text-xl","font-bold","text-[color:var(--color-azul-oscuro)]"],[1,"grid","grid-cols-2","gap-4"],["for","altura",1,"mb-1","block","text-sm","font-medium","text-gray-700"],[1,"text-xs","text-gray-500"],["id","altura","required","","type","number","step","0.1",1,"w-full","rounded-lg","border","px-3","py-2","text-sm","shadow-sm","transition","focus:border-indigo-500","focus:ring","focus:ring-indigo-300",3,"ngModelChange","blur","input","ngModel","min","max","ngClass"],[1,"mt-1","text-xs","text-red-600"],["for","peso",1,"mb-1","block","text-sm","font-medium","text-gray-700"],["id","peso","required","","type","number","step","0.1",1,"w-full","rounded-lg","border","px-3","py-2","text-sm","shadow-sm","transition","focus:border-indigo-500","focus:ring","focus:ring-indigo-300",3,"ngModelChange","blur","input","ngModel","min","max","ngClass"],["for","temperatura",1,"mb-1","block","text-sm","font-medium","text-gray-700"],["id","temperatura","required","","type","number","step","0.1",1,"w-full","rounded-lg","border","px-3","py-2","text-sm","shadow-sm","transition","focus:border-indigo-500","focus:ring","focus:ring-indigo-300",3,"ngModelChange","blur","input","ngModel","min","max","ngClass"],["for","presion",1,"mb-1","block","text-sm","font-medium","text-gray-700"],["id","presion","required","","type","text","placeholder","120/80",1,"w-full","rounded-lg","border","px-3","py-2","text-sm","shadow-sm","transition","focus:border-indigo-500","focus:ring","focus:ring-indigo-300",3,"ngModelChange","blur","input","ngModel","ngClass"],[1,"mt-6","grid","grid-cols-1","gap-6","md:grid-cols-2"],[1,"grid","grid-cols-2","gap-2"],[1,"mt-6","flex","flex-col","gap-6"],["for","clave-slider",1,"text-sm","font-medium","text-gray-700"],["id","clave-slider","required","","type","text","placeholder","Nivel de dolor",1,"w-full","rounded-lg","border","px-3","py-2","text-sm","shadow-sm","transition","placeholder:text-gray-400","focus:border-indigo-500","focus:ring","focus:ring-indigo-300",3,"ngModelChange","ngModel","ngClass"],["for","valor-slider",1,"text-sm","font-medium","text-gray-700"],["id","valor-slider","type","range","min","0","max","100",1,"w-full","accent-indigo-500",3,"ngModelChange","ngModel"],["for","clave-numero",1,"text-sm","font-medium","text-gray-700"],["id","clave-numero","required","","type","text","placeholder","Frecuencia card\xEDaca",1,"w-full","rounded-lg","border","px-3","py-2","text-sm","shadow-sm","transition","placeholder:text-gray-400","focus:border-indigo-500","focus:ring","focus:ring-indigo-300",3,"ngModelChange","ngModel","ngClass"],["for","valor-numero",1,"text-sm","font-medium","text-gray-700"],["id","valor-numero","required","","type","number","placeholder","72",1,"w-full","rounded-lg","border","px-3","py-2","text-sm","shadow-sm","transition","placeholder:text-gray-400","focus:border-indigo-500","focus:ring","focus:ring-indigo-300",3,"ngModelChange","ngModel","ngClass"],[1,"grid","grid-cols-2","items-center","gap-4"],["for","clave-boolean",1,"text-sm","font-medium","text-gray-700"],["id","clave-boolean","required","","type","text","placeholder","Al\xE9rgia medicamentos",1,"w-full","rounded-lg","border","px-3","py-2","text-sm","shadow-sm","transition","placeholder:text-gray-400","focus:border-indigo-500","focus:ring","focus:ring-indigo-300",3,"ngModelChange","ngModel","ngClass"],[1,"mt-6","flex","items-center","gap-3"],["type","button","role","switch",1,"relative","inline-flex","h-6","w-11","items-center","rounded-full","transition-colors","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-2","focus:outline-none",3,"click","ngClass"],[1,"inline-block","h-4","w-4","transform","rounded-full","bg-white","shadow-lg","transition-transform",3,"ngClass"],[1,"text-sm","font-medium","text-gray-700"],[1,"mt-6","flex","justify-end","gap-4"],[1,"rounded-lg","px-4","py-2","text-sm","font-semibold","text-white","transition","disabled:cursor-not-allowed","disabled:opacity-50",3,"click","disabled","ngClass"],[1,"mb-1","block","text-sm","font-medium","text-gray-700",3,"for"],["type","text",1,"w-full","rounded-lg","border","border-gray-300","px-3","py-2","text-sm","shadow-sm","transition","placeholder:text-gray-400","focus:border-indigo-500","focus:ring","focus:ring-indigo-300",3,"ngModelChange","id","ngModel","placeholder"]],template:function(e,a){e&1&&(J(0,"div",0),n(1,"div",1),p("clickFuera",function(){return a.cerrarModal()}),g(2,qe,9,8,"div",2),g(3,Ke,7,2,"div",2),g(4,Ue,7,2,"div",2),g(5,$e,6,0,"div",2),g(6,Ze,7,2,"div",2),g(7,Ye,7,1,"div",3),g(8,it,68,65,"div",4),g(9,at,7,1,"div",3),g(10,rt,7,1,"div",3),o()),e&2&&(s(),_("ngClass",A(10,Re,a.mostrarFormularioHistoriaClinica)),s(),x(!a.mostrarFormularioCancelar&&!a.mostrarFormularioRechazar&&!a.mostrarFormularioAceptar&&!a.mostrarFormularioFinalizar&&!a.mostrarFormularioResenia&&!a.mostrarVistaComentarioPaciente&&!a.mostrarVistaComentarioEspecialista?2:-1),s(),x(a.mostrarFormularioCancelar?3:-1),s(),x(a.mostrarFormularioRechazar?4:-1),s(),x(a.mostrarFormularioAceptar?5:-1),s(),x(a.mostrarFormularioFinalizar?6:-1),s(),x(a.mostrarFormularioResenia?7:-1),s(),x(a.mostrarFormularioHistoriaClinica?8:-1),s(),x(a.mostrarVistaComentarioPaciente?9:-1),s(),x(a.mostrarVistaComentarioEspecialista?10:-1))},dependencies:[L,le,U,G,pe,_e,q,Ce,xe,ge,K,fe,Ee],encapsulation:2})};function ot(r,i){if(r&1){let e=C();n(0,"app-acciones-especialista",12),p("cerrar",function(){m(e);let t=c();return u(t.cerrarPopupAcciones())})("accionRealizada",function(){m(e);let t=c();return u(t.accionDesdeModal())}),o()}if(r&2){let e=c();_("cita",e.citaSeleccionada())}}function nt(r,i){if(r&1&&(n(0,"th",11),l(1),o()),r&2){let e=i.$implicit;s(),w(e.label)}}function st(r,i){if(r&1&&(n(0,"div")(1,"strong"),l(2),o(),l(3),o()),r&2){let e=i.$implicit;s(2),h("",e.clave,":"),s(),h(" ",e.valor)}}function lt(r,i){if(r&1&&(n(0,"tr")(1,"td",20)(2,"div",21),k(3,st,4,2,"div",null,M),o()()()),r&2){let e=c().$implicit;_("@expandCollapse",void 0),s(3),P(e.datosDinamicos)}}function ct(r,i){if(r&1){let e=C();n(0,"tr",13),p("click",function(){let t=m(e).$implicit,d=c(2);return u(d.toggleFilaExpandida(t.citaId))}),n(1,"td",14),l(2),o(),n(3,"td",14),l(4),S(5,"date"),o(),n(6,"td",15),l(7),S(8,"titlecase"),o(),n(9,"td",14),l(10),S(11,"unidadMedida"),o(),n(12,"td",14),l(13),S(14,"unidadMedida"),o(),n(15,"td",14),l(16),S(17,"unidadMedida"),o(),n(18,"td",14),l(19),S(20,"unidadMedida"),o(),n(21,"td",14),l(22),o(),n(23,"td",14),l(24),o(),n(25,"td",14),l(26),o(),n(27,"td",16)(28,"button",17),l(29),o()(),n(30,"td",18)(31,"button",19),p("click",function(){let t=m(e).$implicit,d=c(2);return u(d.abrirPopupAcciones(t))}),l(32," Acciones "),o()()(),g(33,lt,5,1,"tr")}if(r&2){let e=i.$implicit,a=c(2);ne("background-color",a.filaExpandida()===e.citaId?"rgba(46, 64, 45, 0.2)":null),_("@fadeInRow",void 0),s(2),w(e.citaId),s(2),h(" ",R(5,16,e.fechaHora,"short")," "),s(2),_("appColorEstado",e.estado),s(),h(" ",se(8,19,e.estado)," "),s(3),h(" ",R(11,21,e.alturaCm,"altura")," "),s(3),h(" ",R(14,24,e.pesoKg,"peso")," "),s(3),h(" ",R(17,27,e.temperaturaC,"temperatura")," "),s(3),h(" ",R(20,30,e.presionArterial,"presion")," "),s(3),h(" ",e.pacienteNombreCompleto," "),s(2),h(" ",e.especialistaNombreCompleto," "),s(2),h(" ",e.especialidadNombre," "),s(3),h(" ",a.filaExpandida()===e.citaId?"Ocultar":"Mostrar"," "),s(4),x(a.filaExpandida()===e.citaId?33:-1)}}function dt(r,i){if(r&1&&(n(0,"tbody"),k(1,ct,34,33,null,null,M),o()),r&2){let e=c();_("@listStagger",void 0),s(),P(e.citasFiltradas)}}function mt(r,i){r&1&&(n(0,"tbody")(1,"tr")(2,"td",22),l(3," Cargando datos... "),o()()())}var Se=class r{constructor(i,e,a){this.turnosService=i;this.authSupabase=e;this.loading=a;this.usuario$=this.authSupabase.user$}usuario$;usuarioActual=null;destroy$=new ae;citas=E([]);filaExpandida=E(null);cargando=E(!0);citaSeleccionada=E(null);ordenamiento=E("fecha");mostrarFilas=E(!1);mostrarPopupAcciones=!1;columnas=[{key:"citaId",label:"ID"},{key:"fechaHora",label:"Fecha/Hora"},{key:"estado",label:"Estado"},{key:"alturaCm",label:"Altura"},{key:"pesoKg",label:"Peso"},{key:"temperaturaC",label:"Temperatura"},{key:"presionArterial",label:"Presi\xF3n arterial"},{key:"pacienteNombreCompleto",label:"Paciente"},{key:"especialistaNombreCompleto",label:"Especialista"},{key:"especialidadNombre",label:"Especialidad"}];columnasConDatosDinamicos=[...this.columnas,{key:"datosDinamicos",label:"Datos din\xE1micos"}];_filtroValor=E("");_filtroTimeout=null;get filtroValorModel(){return this._filtroValor()}set filtroValorModel(i){this._filtroValor.set(i),this._filtroTimeout&&clearTimeout(this._filtroTimeout)}ngOnInit(){return z(this,null,function*(){this.usuario$.pipe(re(this.destroy$)).subscribe(i=>{if(!i){this.usuarioActual=null;return}i.id=typeof i.id=="string"?Number(i.id):i.id,this.usuarioActual=i,this.cargarCitas()})})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}cargarCitas(){return z(this,null,function*(){this.cargando.set(!0),this.mostrarFilas.set(!1);try{if(this.usuarioActual?.id!=null){let i=yield this.turnosService.obtenerCitasEspecialista(this.usuarioActual.id);this.citas.set(i)}}catch(i){console.error("Error al obtener citas",i)}finally{this.cargando.set(!1),setTimeout(()=>{this.mostrarFilas.set(!0)},10),this.loading.hide()}})}toggleFilaExpandida(i){this.filaExpandida.set(this.filaExpandida()===i?null:i)}get citasFiltradas(){let i=Ae(this.citas(),this._filtroValor()),e=this.ordenamiento();return e==="fecha"?i=[...i].sort((a,t)=>new Date(t.fechaHora).getTime()-new Date(a.fechaHora).getTime()):e==="estado"&&(i=[...i].sort((a,t)=>a.estado.localeCompare(t.estado))),i}limpiarFiltro(){this._filtroValor.set(""),this.mostrarFilas.set(!1),setTimeout(()=>this.mostrarFilas.set(!0),10)}abrirPopupAcciones(i){this.citaSeleccionada.set(i),this.mostrarPopupAcciones=!0}cerrarPopupAcciones(){this.mostrarPopupAcciones=!1,this.citaSeleccionada.set(null)}accionDesdeModal(){this.cerrarPopupAcciones(),this.cargarCitas()}ordenarPorFecha(){this.ordenamiento.set("fecha"),this.mostrarFilas.set(!1),setTimeout(()=>this.mostrarFilas.set(!0),10)}ordenarPorEstado(){this.ordenamiento.set("estado"),this.mostrarFilas.set(!1),setTimeout(()=>this.mostrarFilas.set(!0),10)}static \u0275fac=function(e){return new(e||r)(N($),N(ve),N(be))};static \u0275cmp=B({type:r,selectors:[["app-mis-turnos-especialista"]],decls:21,vars:11,consts:[[1,"h-full","w-full","p-1"],[1,"h-full","w-full","overflow-auto","rounded-2xl","border","border-white","bg-[color:var(--color-crema)]","p-6","shadow-inner"],[1,"mb-4","flex","flex-wrap","items-center","gap-3"],["for","filtro",1,"text-sm","font-semibold","text-[color:var(--color-azul-oscuro)]"],["id","filtro","type","text","placeholder","Ingres\xE1 filtro",1,"w-64","rounded","border","border-gray-300","px-3","py-1","text-sm","focus:ring-2","focus:ring-[color:var(--color-azul-oscuro)]","focus:outline-none",3,"ngModelChange","ngModel"],["type","button",1,"mr-6","rounded","bg-[color:var(--color-azul-oscuro)]","px-3","py-1","text-sm","font-semibold","text-white","shadow","transition-transform","hover:scale-105","hover:bg-[color:var(--color-azul-claro)]",3,"click"],["type","button",1,"rounded","px-3","py-1","text-sm","font-semibold","text-white","shadow","transition-transform","hover:scale-105",3,"click"],[1,"ml-auto"],[3,"cita"],[1,"min-w-full","border-collapse","border","border-gray-300","text-sm"],[1,"bg-[color:var(--color-azul-claro)]","text-[color:var(--color-azul-oscuro)]"],[1,"border","border-gray-300","px-3","py-2"],[3,"cerrar","accionRealizada","cita"],[1,"cursor-pointer","border","border-gray-300","transition-colors","duration-150","hover:bg-[color:var(--color-verde-claro)]",3,"click"],[1,"border","border-gray-300","px-3","py-1"],[1,"rounded","border","border-gray-300","px-3","py-1","text-center","font-semibold",3,"appColorEstado"],[1,"border","border-gray-300","px-3","py-1","text-center"],["type","button",1,"text-[color:var(--color-azul-oscuro)]","underline","hover:text-[color:var(--color-azul-claro)]"],[1,"border","border-gray-300","bg-green-200","px-3","py-1","text-center","hover:bg-green-500"],["type","button",1,"font-bold","text-[color:var(--color-azul-oscuro)]","hover:text-[color:var(--color-white)]",3,"click"],["colspan","11",1,"border","border-gray-300","bg-[color:var(--color-crema)]","px-3","py-2","text-[color:var(--color-azul-oscuro)]"],[1,"grid","grid-cols-2","gap-4"],["colspan","11",1,"border","border-gray-300","px-3","py-6","text-center","font-semibold","text-[color:var(--color-azul-oscuro)]"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),l(4," Filtrar: "),o(),n(5,"input",4),y("ngModelChange",function(d){return b(a.filtroValorModel,d)||(a.filtroValorModel=d),d}),o(),n(6,"button",5),p("click",function(){return a.limpiarFiltro()}),l(7," Limpiar Filtros "),o(),n(8,"button",6),p("click",function(){return a.ordenarPorFecha()}),l(9," \u{1F4C5} Ordenar por Fecha "),o(),n(10,"button",6),p("click",function(){return a.ordenarPorEstado()}),l(11," \u{1F3F7}\uFE0F Ordenar por Estado "),o(),n(12,"div",7),g(13,ot,1,1,"app-acciones-especialista",8),o()(),n(14,"table",9)(15,"thead")(16,"tr",10),k(17,nt,2,1,"th",11,M),o()(),g(19,dt,3,1,"tbody")(20,mt,4,0,"tbody"),o()()()),e&2&&(s(5),v("ngModel",a.filtroValorModel),s(3),Q("bg-green-600",a.ordenamiento()==="fecha")("bg-green-800",a.ordenamiento()!=="fecha"),s(2),Q("bg-purple-600",a.ordenamiento()==="estado")("bg-purple-800",a.ordenamiento()!=="estado"),s(3),x(a.mostrarPopupAcciones&&a.citaSeleccionada()?13:-1),s(4),P(a.columnasConDatosDinamicos),s(2),x(!a.cargando()&&a.mostrarFilas()?19:20))},dependencies:[L,U,G,q,K,Z,we,ce,de,Ve],encapsulation:2,data:{animation:[j("fadeInRow",[I(":enter",[V({opacity:0,transform:"translateY(-10px)"}),D("300ms ease-out",V({opacity:1,transform:"translateY(0)"}))])]),j("listStagger",[I(":enter",[me(":enter",[V({opacity:0,transform:"translate(-20px, -10px)"}),ue(50,[D("300ms ease-out",V({opacity:1,transform:"translate(0, 0)"}))])],{optional:!0})])]),j("expandCollapse",[I(":enter",[V({height:"0",opacity:0,overflow:"hidden"}),D("350ms ease-out",V({height:"*",opacity:1}))]),I(":leave",[V({height:"*",opacity:1}),D("250ms ease-in",V({height:"0",opacity:0}))])])]}})};export{Se as MisTurnosEspecialista};
